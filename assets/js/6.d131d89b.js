(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1707:function(t,s,a){"use strict";a.r(s);var n=a(0),r=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"rollup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rollup","aria-hidden":"true"}},[t._v("#")]),t._v(" Rollup")]),a("p",[t._v("Rollup 是一个轻量、支持 Tree Shaking 的模块打包工具。在我们的项目中，会有很多项拆分出去的 JS 模块，这些模块方式可以帮助我们开发模块化，代码质量更高的代码。但是我们需要一种机制，把这些小的 JS 文件都打包成一个大的 JS 文件。 Rollup 打包的独特之处在于支持 Tree Shaking。")]),a("h2",{attrs:{id:"如何学习"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何学习","aria-hidden":"true"}},[t._v("#")]),t._v(" 如何学习")]),a("p",[t._v("文档文档文档，所以的一切根源都来自于文档。")]),a("ol",[a("li",[a("p",[t._v("文档永远是首选资源。国外技术文档大多英文为主，国内翻译者会把文档翻译成中文文档。可以通过中文文档入门，再通过英文文档看是翻译是否有语意错误或者遗漏的地方。")])]),a("li",[a("p",[t._v("开发者笔记。可以在简书、知乎搜多相关开发者的笔记，笔记是开发者看文档后的小结，有一定意义的借鉴作用，但要注意版本问题。")])]),a("li",[a("p",[t._v("开发问题。可以在其 Github 、stackoverflow 或者 思否，查询开发者在使用这个工具、插件、库时候遇到的问题。")])]),a("li",[a("p",[t._v("视频辅助。查看录制视频。")])]),a("li",[a("p",[t._v("请教身边的小伙伴。")])]),a("li",[a("p",[t._v("参照 DEMO 体验完成。")])])]),a("h2",{attrs:{id:"学习建议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习建议","aria-hidden":"true"}},[t._v("#")]),t._v(" 学习建议")]),a("ol",[a("li",[t._v("按照"),a("a",{attrs:{href:"https://rollup.docschina.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档")]),t._v("一步步往下走")]),a("li",[t._v("登录 Babel 官网查看，点击文档中"),a("a",{attrs:{href:"https://www.babeljs.cn/docs/setup/",target:"_blank",rel:"noopener noreferrer"}},[t._v("配置")]),t._v(" ,在选择你的工具中构建系统选择 Rollup 然后按指示配置，对 ES6 进行打包编译尝试。注意，配置 "),a("strong",[t._v(".babelrc")]),t._v(" 的时候请按照 Rollup 与其他工具集成 - "),a("a",{attrs:{href:"https://rollup.docschina.org/#babel",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel")]),t._v("为准。")]),a("li",[t._v("体验以下DEMO，和使用了那些插件做了些什么，为什么要这么写。之后保证在不看 DEMO 的前提下也能配置出自己的 Rollup 打包配置方案，对 Less/Sass 及 ES6 进行转译处理。")])]),a("h2",{attrs:{id:"demo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demo","aria-hidden":"true"}},[t._v("#")]),t._v(" DEMO")]),a("p",[t._v("开发环境搭建")]),a("h3",{attrs:{id:"_1-创建开发目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建开发目录","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.创建开发目录")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" ~/Desktop "),a("span",{attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" todoApp\n")])]),a("h3",{attrs:{id:"_2-进入开发目录并初始化npm包管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-进入开发目录并初始化npm包管理","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.进入开发目录并初始化NPM包管理")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" todoApp "),a("span",{attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" init\n")])]),a("h3",{attrs:{id:"_3-下载依赖包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-下载依赖包","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.下载依赖包")]),a("p",[t._v("rollup")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" --save-dev rollup\n")])]),a("p",[t._v("babel ES6转译")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" --save-dev babel-core babel-preset-env\n")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" --save-dev rollup-plugin-babel babel-plugin-external-helpers\n")])]),a("p",[t._v("uglify 压缩")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" --save-dev rollup-plugin-uglify\n")])]),a("p",[t._v("env 环境变量")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" --save-dev cross-env\n")])]),a("h3",{attrs:{id:"_4-配置-babelrc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置-babelrc","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.配置 "),a("strong",[t._v(".babelrc")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("touch")]),t._v(" .babelrc "),a("span",{attrs:{class:"token operator"}},[t._v("&&")]),t._v(" vim .babelrc\n")])]),a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"presets"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{attrs:{class:"token string"}},[t._v('"env"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token property"}},[t._v('"modules"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"plugins"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"external-helpers"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("h3",{attrs:{id:"_5-rollup-config-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-rollup-config-js","aria-hidden":"true"}},[t._v("#")]),t._v(" 5.rollup.config.js")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("touch")]),t._v(" rollup.config.js "),a("span",{attrs:{class:"token operator"}},[t._v("&&")]),t._v(" vim rollup.config.js\n")])]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" babel "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'rollup-plugin-babel'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" uglify "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'rollup-plugin-uglify'")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" plugins "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token function"}},[t._v("babel")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'production'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" plugins"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("push")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function"}},[t._v("uglify")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'src/app/index.js'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  dest"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'dist/bundle.js'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  format"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'iife'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  moduleName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'todoApp'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  plugins\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),a("h3",{attrs:{id:"_6-配置-package-script"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-配置-package-script","aria-hidden":"true"}},[t._v("#")]),t._v(" 6.配置 package.script")]),a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"dev"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"cross-env NODE_ENV=dev rollup -c --watch"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"build"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"cross-env NODE_ENV=production rollup -c"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("h3",{attrs:{id:"_7-创建开发入口文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-创建开发入口文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 7.创建开发入口文件")]),a("p",[a("strong",[t._v("src/app/index.js")])]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" str "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'ok'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("h3",{attrs:{id:"_8-创建测试文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-创建测试文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 8.创建测试文件")]),a("p",[a("strong",[t._v("examples/index.html")])]),a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token doctype"}},[t._v("<!DOCTYPE html>")]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("charset")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("utf-8"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("todo MVC Demo"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("app"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("../dist/bundle.js"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}}),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),a("h3",{attrs:{id:"_9-运行开发打包命名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-运行开发打包命名","aria-hidden":"true"}},[t._v("#")]),t._v(" 9.运行开发打包命名")]),a("p",[t._v("运行后查看输出文件，并打开测试文件查看效果。")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n")])])])}],!1,null,null,null);s.default=r.exports}}]);