(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{1425:function(t,a,s){"use strict";s.r(a);var n=s(0),p=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"堆叠"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#堆叠","aria-hidden":"true"}},[t._v("#")]),t._v(" 堆叠")]),s("p",[t._v("很多情况下定位元素，并不像流内元素一样从上到下，从左到右。很多时候会有重叠，这时候就会有谁在上面，谁在下面的情况。")]),s("h2",{attrs:{id:"z-index"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#z-index","aria-hidden":"true"}},[t._v("#")]),t._v(" z-index")]),s("ul",[s("li",[s("p",[t._v("为定位元素指定在其 z 轴的上下级")])]),s("li",[s("p",[t._v("用一个整数表示，数值越大，越靠近用户")])]),s("li",[s("p",[t._v("初始值为 auto，可以为负数 、0 、正数")])])]),s("h2",{attrs:{id:"堆叠上下文"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#堆叠上下文","aria-hidden":"true"}},[t._v("#")]),t._v(" 堆叠上下文")]),s("p",[t._v("z-index 越大就一定在上面吗？比较元素不在一个堆叠上下文的时候，没法通过 z-index 属性值的大小进行比较。")]),s("h3",{attrs:{id:"形成堆叠上下文的条件："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#形成堆叠上下文的条件：","aria-hidden":"true"}},[t._v("#")]),t._v(" 形成堆叠上下文的条件：")]),s("ul",[s("li",[s("p",[t._v("Root 元素")])]),s("li",[s("p",[t._v("z-index 值不为 auto 的定位元素")])]),s("li",[s("p",[t._v("设置了 CSS3 属性的元素，比如 opacity、transform、animation 等")])])]),s("h3",{attrs:{id:"绘制顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#绘制顺序","aria-hidden":"true"}},[t._v("#")]),t._v(" 绘制顺序")]),s("p",[t._v("正每个堆叠上下文中，从下到上：")]),s("ol",[s("li",[s("p",[t._v("形成该上下文元素的 border 和 background")])]),s("li",[s("p",[t._v("z-index 为负值的子堆叠上下文")])]),s("li",[s("p",[t._v("常规流中的块级元素非浮动子元素")])]),s("li",[s("p",[t._v("非定位的浮动元素")])]),s("li",[s("p",[t._v("常规流内非定位行级元素")])]),s("li",[s("p",[t._v("z-index 为 0 的子元素或者子堆叠上下文")])]),s("li",[s("p",[t._v("z-index 为 正数的子堆叠上下文")])])]),s("h3",{attrs:{id:"同一堆叠上下文内子元素的堆叠顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#同一堆叠上下文内子元素的堆叠顺序","aria-hidden":"true"}},[t._v("#")]),t._v(" 同一堆叠上下文内子元素的堆叠顺序")]),s("ol",[s("li",[s("p",[t._v("堆叠上下文的根元素")])]),s("li",[s("p",[t._v("设置了 position 属性，并且 z-index 为负的元素及其子元素， z-index 值较大的元素置于较小元素之上，同等属性值的元素按照 html 中出现的先后顺序堆叠。")])]),s("li",[s("p",[t._v("没有设置 position 的元素")])]),s("li",[s("p",[t._v("设置了 position 属性，并且 z-index 属性为 auto 的元素。")])]),s("li",[s("p",[t._v("设置了 position 属性，并且 z-index 属性为正值的元素。")])])]),s("h3",{attrs:{id:"不同堆叠上下文"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#不同堆叠上下文","aria-hidden":"true"}},[t._v("#")]),t._v(" 不同堆叠上下文")]),s("ul",[s("li",[s("p",[t._v("堆叠上下文可以嵌入其他堆叠上下文。")])]),s("li",[s("p",[t._v("每个堆叠上下文和他的统计上下文是独立的。")])]),s("li",[s("p",[t._v("堆叠上下文中子元素按照前述顺序摆放。")])]),s("li",[s("p",[t._v("堆叠上下文内部的子堆叠上下文的z-index只在父堆叠上下文中有意义。")])])]),s("h2",{attrs:{id:"事例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事例","aria-hidden":"true"}},[t._v("#")]),t._v(" 事例")]),s("p",[t._v("HTML文档中有三个div元素，每个div中存在一个span元素，三个span元素分别设置背景颜色为 red，green，以及blue。然后每个span都设置为position: absolute，三个span的位置稍微错开以便可以仔细观察它们之间的堆叠顺序。然后将第一个span元素的z-index设置为1，其他两个不设置。")]),s("p",[t._v("元素的叠放顺序如下：")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("zindex-container"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" //1\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("red"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Red"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" //6\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" //2\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("green"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Green"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" //4\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" //3\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("blue"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Blue"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" //5\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{attrs:{class:"token selector"}},[t._v(".zindex-container")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("position")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" relative"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("background")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #ccc"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("padding")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 150px"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token selector"}},[t._v(".red,.green,.blue")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("position")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" absolute"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("width")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200px"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("height")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200px"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token selector"}},[t._v(".red")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("top")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("left")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("background")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("z-index")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token selector"}},[t._v(".green")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("top")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50px"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("left")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50px"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("background")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" green"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token selector"}},[t._v(".blue")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("top")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("left")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v("background")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" blue"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("p",[t._v("尝试在 red 的父元素中，添加 CSS3 的 opacity 属性，让其形成堆叠上下文。第一个 div 形成了一个新的堆叠上下文，red span 成为了新的上下文中的第一个子元素。")]),s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{attrs:{class:"token selector"}},[t._v(".zindex-container > div:first-child")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token property"}},[t._v("opacity")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" .99"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("p",[t._v("元素的叠放顺序如下：")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("zindex-container"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" //1\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("red"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Red"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" //1.1\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" //2\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("green"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Green"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" //4\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" //3\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("blue"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Blue"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" //5\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考")]),s("ul",[s("li",[s("a",{attrs:{href:"https://segmentfault.com/a/1190000000460664",target:"_blank",rel:"noopener noreferrer"}},[t._v("理解 CSS 的 z-index 属性")])]),s("li",[s("a",{attrs:{href:"https://segmentfault.com/a/1190000011099865",target:"_blank",rel:"noopener noreferrer"}},[t._v("z-index与堆叠上下文")])])])])}],!1,null,null,null);a.default=p.exports}}]);