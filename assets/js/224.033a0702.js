(window.webpackJsonp=window.webpackJsonp||[]).push([[224],{1273:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"_3-1-小程序登录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-小程序登录","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.1 小程序登录")]),n("p",[t._v("这一节我们来详细讲解小程序的登录流程。")]),n("h2",{attrs:{id:"流程分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#流程分析","aria-hidden":"true"}},[t._v("#")]),t._v(" 流程分析")]),n("p",[t._v("先来看一下微信提供的时序图：")]),n("p",[n("img",{attrs:{src:a(543),alt:"file"}})]),n("p",[t._v("大概看一下流程，很容易想到 OAuth 2.0 的授权码模式，只是稍有区别，结合 LaraBBS 来分析一下流程：")]),n("ol",[n("li",[t._v("小程序调用 "),n("code",[t._v("wx.login()")]),t._v(" 接口获取临时登录凭证（code），这一步用户是无感知的，无需用户授权；")]),n("li",[t._v("小程序提交 "),n("code",[t._v("code")]),t._v(" 到 LaraBBS 服务器；")]),n("li",[t._v("LaraBBS 服务器通过 "),n("code",[t._v("appid")]),t._v("、"),n("code",[t._v("appsecret")]),t._v(" 和 "),n("code",[t._v("code")]),t._v(" 请求微信接口，换取用户的 "),n("code",[t._v("session_key")]),t._v(" 和 "),n("code",[t._v("openid")]),t._v("；")]),n("li",[t._v("LaraBBS 服务器根据 "),n("code",[t._v("openid")]),t._v(" 查找到对应的用户，存入 "),n("code",[t._v("session_key")]),t._v("，然后为该用户生成 "),n("code",[t._v("access_token")]),t._v(" （JWT）返回给小程序。")]),n("li",[t._v("有了 "),n("code",[t._v("access_token")]),t._v(" 小程序就可以调用 "),n("code",[t._v("发布话题")]),t._v("，"),n("code",[t._v("发布回复")]),t._v("，"),n("code",[t._v("修改个人信息")]),t._v(" 等需要身份认证的接口了。")])]),n("blockquote",[n("p",[t._v("注意这里的 "),n("code",[t._v("session_key")]),t._v(" 是一个比较特殊的设计，是用户的 "),n("code",[t._v("会话密钥")]),t._v("，需要存储在服务器中，调用 "),n("code",[t._v("获取用户信息")]),t._v("、"),n("code",[t._v("获取微信用户绑定的手机号")]),t._v(" 等微信接口时，需要用这个 "),n("code",[t._v("会话密钥")]),t._v(" 才能解密获取相关数据。每次调用 "),n("code",[t._v("wx.login()")]),t._v(" 之后，微信都会自动生成新的 "),n("code",[t._v("session_key")]),t._v(" ，导致之前的 "),n("code",[t._v("session_key")]),t._v(" 失效，所以在必要的时候再去调用 "),n("code",[t._v("wx.login()")]),t._v("，而且还要及时保存 "),n("code",[t._v("session_key")]),t._v(" 到服务器，以备后续使用。")])]),n("h2",{attrs:{id:"代码调试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代码调试","aria-hidden":"true"}},[t._v("#")]),t._v(" 代码调试")]),n("h3",{attrs:{id:"安装-easywechat"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-easywechat","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装 EasyWeChat")]),n("p",[t._v("回到 "),n("code",[t._v("LaraBBS")]),t._v(" 项目中，我们需要调用微信的接口，加密解密微信接口数据，为了加快开发，我们使用 "),n("a",{attrs:{href:"https://github.com/overtrue/wechat",target:"_blank",rel:"noopener noreferrer"}},[t._v("EasyWeChat")]),t._v(" 进行开发，"),n("code",[t._v("EasyWeChat")]),t._v(" 已经封装好了微信相关的接口，非常方便使用，本教程我们只使用其中小程序的部分。")]),n("p",[t._v("可以直接使用 EasyWeChat Laravel 5 的拓展包: "),n("a",{attrs:{href:"https://github.com/overtrue/laravel-wechat",target:"_blank",rel:"noopener noreferrer"}},[t._v("overtrue/laravel-wechat")]),t._v("。")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ "),n("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" ~/Code/larabbs\n$ composer require "),n("span",{attrs:{class:"token string"}},[t._v('"overtrue/laravel-wechat:~4.0"')]),t._v(" \n")])]),n("p",[n("img",{attrs:{src:a(542),alt:"file"}})]),n("h3",{attrs:{id:"配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置")]),n("p",[t._v("发布配置文件：")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ php artisan vendor:publish --provider"),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token string"}},[t._v('"Overtrue\\LaravelWeChat\\ServiceProvider"')]),t._v("\n")])]),n("p",[n("img",{attrs:{src:a(541),alt:"file"}})]),n("p",[t._v("修改配置文件，将小程序部分的注释打开：")]),n("p",[n("em",[t._v("config/wechat.php")])]),n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),n("span",{attrs:{class:"token comment"}},[t._v("/*\n     * 小程序\n     */")]),t._v("\n    "),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'mini_program'")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'default'")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'app_id'")]),t._v("  "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("env")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'WECHAT_MINI_PROGRAM_APPID'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("''")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'secret'")]),t._v("  "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("env")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'WECHAT_MINI_PROGRAM_SECRET'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("''")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'token'")]),t._v("   "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("env")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'WECHAT_MINI_PROGRAM_TOKEN'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("''")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'aes_key'")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("env")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'WECHAT_MINI_PROGRAM_AES_KEY'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("''")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),n("p",[t._v("登录 "),n("a",{attrs:{href:"https://mp.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("微信公众平台")]),t._v("，找到小程序 "),n("code",[t._v("AppID")]),t._v(" 和 "),n("code",[t._v("AppSecret")]),t._v("，点击后面的 "),n("code",[t._v("生成")]),t._v(" 按钮：")]),n("p",[n("img",{attrs:{src:a(540),alt:"file"}})]),n("p",[t._v("可以创建一个 "),n("code",[t._v("AppSecret")]),t._v("：")]),n("p",[n("img",{attrs:{src:a(539),alt:"file"}})]),n("p",[t._v("打开 .env 设置小程序的 "),n("code",[t._v("AppID")]),t._v(" 和 "),n("code",[t._v("AppSecret")]),t._v("：")]),n("p",[n("em",[t._v(".env")])]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token comment"}},[t._v("# 小程序")]),t._v("\nWECHAT_MINI_PROGRAM_APPID"),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("wx756787de07****\nWECHAT_MINI_PROGRAM_SECRET"),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("bb28893cc9cdb3e0f*********\n")])]),n("h3",{attrs:{id:"小程序获取-code"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#小程序获取-code","aria-hidden":"true"}},[t._v("#")]),t._v(" 小程序获取 Code")]),n("p",[t._v("在小程序中调用 "),n("code",[t._v("wepy.login()")]),t._v(" 接口，获取 "),n("code",[t._v("Code")]),t._v("，根据 WePY 的例子我们添加如下代码。")]),n("p",[n("em",[t._v("src/app.wpy")])]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  "),n("span",{attrs:{class:"token function"}},[t._v("onLaunch")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    wepy"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("login")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("then")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'login: '")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),n("blockquote",[n("p",[t._v("由于我们使用了 WePY 框架，所有小程序的接口都需要使用 "),n("code",[t._v("wepy")]),t._v(" 对象调用，例如 "),n("code",[t._v("wx.login()")]),t._v(" 就需要使用 "),n("code",[t._v("wepy.login()")]),t._v("。")])]),n("p",[t._v("上面代码中的 "),n("code",[t._v("wepy.login().then")]),t._v(" 使用了 ES6 中的 "),n("a",{attrs:{href:"http://es6.ruanyifeng.com/#docs/promise",target:"_blank",rel:"noopener noreferrer"}},[t._v("Promise")]),t._v("，它是异步编程的一种解决方案，这里只是测试代码，大家有个概念即可，因为后面的课程中我们会更多的使用 ES7 的新特性 "),n("code",[t._v("Async/Await")]),t._v("，后面的课程中会讲到。")]),n("p",[t._v("打开开发者工具调试，发现报错了：")]),n("p",[n("img",{attrs:{src:a(538),alt:"file"}})]),n("p",[t._v("在 WePY 的文档中找到了 "),n("a",{attrs:{href:"https://github.com/Tencent/wepy/wiki/wepy%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8Promise",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案")]),t._v("，项目中要使用 Promise 需要安装 "),n("code",[t._v("promise-polyfill")]),t._v("。")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ "),n("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" ~/Code/larabbs-weapp\n$ yarn add promise-polyfill\n")])]),n("p",[n("img",{attrs:{src:a(537),alt:"file"}})]),n("p",[t._v("增加 "),n("code",[t._v("this.use('promisify');")]),t._v(" 使 API promise 化：")]),n("p",[n("em",[t._v("src/app.wpy")])]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  "),n("span",{attrs:{class:"token function"}},[t._v("constructor")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("super")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("this")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("use")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'requestfix'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("this")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("use")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'promisify'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),n("p",[t._v("再次打开开发者工具调试：\n"),n("img",{attrs:{src:a(536),alt:"file"}})]),n("p",[t._v("获取成功，可以看到日志中的 "),n("code",[t._v("code")]),t._v(" 信息。")]),n("h3",{attrs:{id:"服务器获取-openid"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#服务器获取-openid","aria-hidden":"true"}},[t._v("#")]),t._v(" 服务器获取 OpenID")]),n("p",[t._v("打开 "),n("code",[t._v("tinker")]),t._v(" 进行调试：")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ "),n("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" ~/Code/larabbs\n$ php artisan tinker\n")])]),n("p",[t._v("输入如下代码，注意替换代码中的 "),n("code",[t._v("CODE")]),t._v(" 为你真实获取到的 "),n("code",[t._v("code")]),t._v("。")]),n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{attrs:{class:"token variable"}},[t._v("$miniProgram")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" \\"),n("span",{attrs:{class:"token package"}},[t._v("EasyWeChat")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{attrs:{class:"token function"}},[t._v("miniProgram")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token variable"}},[t._v("$miniProgram")]),n("span",{attrs:{class:"token operator"}},[t._v("-")]),n("span",{attrs:{class:"token operator"}},[t._v(">")]),n("span",{attrs:{class:"token property"}},[t._v("auth")]),n("span",{attrs:{class:"token operator"}},[t._v("-")]),n("span",{attrs:{class:"token operator"}},[t._v(">")]),n("span",{attrs:{class:"token function"}},[t._v("session")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'CODE'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),n("p",[n("img",{attrs:{src:a(535),alt:"file"}})]),n("h3",{attrs:{id:"获取-unionid"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取-unionid","aria-hidden":"true"}},[t._v("#")]),t._v(" 获取 UnionID")]),n("p",[t._v("获取到的信息中并没有 "),n("code",[t._v("unionid")]),t._v(" 数据，因为小程序的 "),n("code",[t._v("unionid")]),t._v(" 需要一些条件才会返回：")]),n("ul",[n("li",[t._v("如果开发者帐号下存在同主体的公众号，并且该用户已经关注了该公众号。开发者可以直接通过 "),n("code",[t._v("wx.login")]),t._v(" 获取到该用户 "),n("code",[t._v("UnionID")]),t._v("，无须用户再次授权。")]),n("li",[t._v("如果开发者帐号下存在同主体的公众号或移动应用，并且该用户已经授权登录过该公众号或移动应用。开发者也可以直接通过 "),n("code",[t._v("wx.login")]),t._v(" 获取到该用户 "),n("code",[t._v("UnionID")]),t._v("，无须用户再次授权。")])]),n("p",[t._v("由于我们没有公众号或移动应用，不方便模拟该情况，后面的课程中会直接使用 "),n("code",[t._v("openid")]),t._v("。")]),n("p",[t._v("结合小程序 "),n("code",[t._v("unionid")]),t._v(" 的一些限制条件，分析一下 LaraBBS 现有业务:")]),n("ol",[n("li",[t._v("LaraBBS 首先是一个网站，已有用户已通过邮箱或手机创建了账号；")]),n("li",[t._v("LaraBBS 已经也有了接口，可能对接了 APP 或桌面应用，用户可以通过 "),n("code",[t._v("手机号")]),t._v(" 和 "),n("code",[t._v("手机微信")]),t._v(" 登录。")])]),n("p",[t._v("本教程是在为一个已经存在用户的应用开发小程序，要考虑已有用户在小程序中依然可以使用相同的账户，所以本教程中的账号体系为：")]),n("ol",[n("li",[t._v("根据用户 openid 查找系统中用户；")]),n("li",[t._v("未找到对应用户，要求用户输入已有账号用户名密码登录；")]),n("li",[t._v("如果用户是新用户，可以跳转到注册页面进行注册；")]),n("li",[t._v("无论登录还是注册，都会将用户与当前小程序 "),n("code",[t._v("openid")]),t._v(" 进行绑定，用户下次进入小程序无需再次登录。")])]),n("h2",{attrs:{id:"代码版本控制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代码版本控制","aria-hidden":"true"}},[t._v("#")]),t._v(" 代码版本控制")]),n("h3",{attrs:{id:"larabbs"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#larabbs","aria-hidden":"true"}},[t._v("#")]),t._v(" larabbs")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ "),n("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" ~/Code/larabbs\n$ "),n("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" add -A\n$ "),n("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),n("span",{attrs:{class:"token string"}},[t._v("'add easywechat'")]),t._v("\n")])]),n("h3",{attrs:{id:"larabbs-weapp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#larabbs-weapp","aria-hidden":"true"}},[t._v("#")]),t._v(" larabbs-weapp")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ "),n("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" ~/Code/larabbs-weapp\n$ "),n("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" add -A\n$ "),n("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),n("span",{attrs:{class:"token string"}},[t._v("'wepy login'")]),t._v("\n")])])])}],e=a(0),o=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);s.default=o.exports},535:function(t,s,a){t.exports=a.p+"assets/img/3.1_9.b6ced603.png"},536:function(t,s,a){t.exports=a.p+"assets/img/3.1_8.11ba3404.png"},537:function(t,s,a){t.exports=a.p+"assets/img/3.1_7.efb50a52.png"},538:function(t,s,a){t.exports=a.p+"assets/img/3.1_6.a5601ddc.png"},539:function(t,s,a){t.exports=a.p+"assets/img/3.1_5.072ee11f.png"},540:function(t,s,a){t.exports=a.p+"assets/img/3.1_4.e88eebee.png"},541:function(t,s,a){t.exports=a.p+"assets/img/3.1_3.e20b5091.png"},542:function(t,s,a){t.exports=a.p+"assets/img/3.1_2.6b538757.png"},543:function(t,s,a){t.exports=a.p+"assets/img/3.1_1.4dee6a6b.jpg"}}]);