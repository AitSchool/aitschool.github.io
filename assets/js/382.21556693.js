(window.webpackJsonp=window.webpackJsonp||[]).push([[382],{1116:function(e,a,t){e.exports=t.p+"assets/img/3.7_1.c3bfe82d.png"},1509:function(e,a,t){"use strict";t.r(a);var r=[function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"content"},[r("h1",{attrs:{id:"_3-7-更新用户对象"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-更新用户对象","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.7 更新用户对象")]),r("p",[e._v("在用户创建成功之后，我们还可以对用户信息进行更新。有两种方式可以完成用户的更新操作：")]),r("ul",[r("li",[e._v("第一种是通过给用户对象属性进行赋值，赋值成功后再调用 "),r("code",[e._v("save")]),e._v(" 方法进行保存更新；")]),r("li",[e._v("第二种则是直接调用 "),r("code",[e._v("update")]),e._v(" 方法进行更新。")])]),r("p",[e._v("一般较为常用的是第二种更新方式。")]),r("p",[e._v("让我们以刚刚新建的用户对象为例，对用户名进行更新。")]),r("p",[e._v("首先，让我们将用户对象从数据库中取出，并赋值给 "),r("code",[e._v("user")]),e._v(" 变量。")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(">>> $user = User::first()\n")])]),r("h2",{attrs:{id:"通过-save-方法更新"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#通过-save-方法更新","aria-hidden":"true"}},[e._v("#")]),e._v(" 通过 save 方法更新")]),r("p",[e._v("让我们使用属性赋值更新的方法对用户名进行更新，将其名字更改为 "),r("code",[e._v("Summer")]),e._v("：")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(">>> $user->name = 'Summer'\n")])]),r("p",[e._v("这时，新的用户名已赋值成功，但是 "),r("strong",[e._v("尚未")]),e._v(" 保存到数据库，因此查看用户信息时我们能够看到，用户名显示的还是之前的 Aufree。")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('>>> User::first()\n=> App\\Models\\User {#687\n     id: 1,\n     name: "Aufree",\n     email: "aufree@yousails.com",\n     created_at: "2016-09-11 08:53:33",\n     updated_at: "2016-09-11 08:53:33",\n   }\n')])]),r("p",[e._v("让我们来调用 save 方法对用户信息进行保存。")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(">>> $user->save()\n")])]),r("p",[e._v("这时再次对用户信息进行查询，我们能看到用户名已成功更改。")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('>>> User::first()\n=> App\\Models\\User {#687\n     id: 1,\n     name: "Summer",\n     email: "aufree@yousails.com",\n     created_at: "2016-09-11 08:53:33",\n     updated_at: "2016-09-11 08:57:33",\n   }\n')])]),r("h2",{attrs:{id:"通过-update-方法更新"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#通过-update-方法更新","aria-hidden":"true"}},[e._v("#")]),e._v(" 通过 update 方法更新")]),r("p",[e._v("下面让我们再来使用 update 方法将用户名更改回 Aufree：")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v(">>> $user->update(['name'=>'Aufree'])\n")])]),r("p",[e._v("再次查询用户信息，可看到改动成功。")]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('>>> User::first()\n=> App\\Models\\User {#685\n     id: 1,\n     name: "Aufree",\n     email: "aufree@yousails.com",\n     created_at: "2016-09-11 08:53:33",\n     updated_at: "2016-09-11 08:58:01",\n   }\n')])]),r("p",[r("img",{attrs:{src:t(1116),alt:"file"}})]),r("p",[e._v("至此，用户对象已成功存入数据库。Eloquent 除 "),r("code",[e._v("create")]),e._v("，"),r("code",[e._v("update")]),e._v(" 之外还提供了很多其它的方法来方便我们跟数据库进行交互，后面的教程中会讲到更多关于 Eloquent 模型的基本使用，你也可以通过查阅 "),r("a",{attrs:{href:"http://d.laravel-china.org/docs/5.5/eloquent",target:"_blank",rel:"noopener noreferrer"}},[e._v("相关文档")]),e._v(" 来进行深入学习。")])])}],s=t(0),n=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},r,!1,null,null,null);a.default=n.exports}}]);